| Parameter | Name | Required | Type | Description |
|------------|------|-----------|------|--------------|
| **link.rank.scope** |  |  |  |  |
|  | template | True | String | String template for rank scope.<br><br>What is the scope made of?<br><br>* If scope is just projectId, provide template as `{0}` and provide substitutes for projectId field name.<br>* If scope is projectId and entityType, provide template as `{0}{1}` and provide substitutes for projectId and entityTypeId field names.<br><br><pre>e.g., "{0}", "{0}{1}", "{0}::{1}", etc.</pre><br>If the projectId is 101 and entityType is 10001,<br><br>* If "{0}::{1}" is provided as template and substitutes are provided for projectId and entityTypeId, the actual scope will be "101::10001". |
|  | substitutes| True | Object | Map containing all the substitute numbers used in template and field name that needs to be replaced against given substitute.<br>The substitute field name can be any field in the entity object.<br><br>**e.g.,**<br>If a template is "{0}::{1}", substitute map can be as follows:<br>`{"0": "projectIdFieldName", "1": "entityTypeIdFieldName"}`<br><br>In the template:<br>* The value of parameter {0} will be replaced with actual value of project id for the entity.<br>* The value of parameter {1} will be replaced with actual value of entity type id for the entity. |

| Parameter | Name | Required | Type | Description |
|------------|------|-----------|------|--------------|
| **userMention** |  | False |  |  |
| | userMentionDataType  | True | Enum | In the case of a given user mentioned, what data will SDK send for that user?<br>*USERNAME_AS_USER*: user's username<br>*EMAIL_AS_USER*: user's email address<br><br>Depending on the data type, OpsHub will search for required user information from the user API. |
|  | **mentionDetails** | True |  |  |
|  | fieldDataType | True | Enum | Type of usermention detection system for field or comment. Each type correlates with a data type of field or comment.<br>For e.g., HTML, WIKI, MARKDOWN, TEXT, HTML_REGEX (If mention containing field is HTML type and all mentions are not detected with html selector, instead provide HTML_REGEX enum and provide a regex in selectorOrRegex that can detect the mention). |
|  | selectorOrRegex | True | List<String> | If the usermention detection system used is of type WIKI or TEXT, return regex to search usermention.<br>Example: return `\\[~accountId:([a-z0-9.]+)\\]` for searching `[~accountId:john.doe]` tags.<br><br>The regex should have 3 parts but only 1 group.<br>The regex must have only 1 group, corresponding to the user field's value as per userMentionDataType.<br><br>*Prefix:* \\[~accountId:<br>*Infix:* ([a-z0-9.]+)<br>*This part will be replaced with username or email*<br>*Only part for username/email should be provided as the group '()'*<br>*Postfix:* \\]<br><br>If the usermention detection system used is of type HTML, return HTML tag selector to search usermention.<br><br>Example:<br>If the usermention tag is `<a>` tag having 'href' attribute, return `a[href]` to search for usermention.<br>Return `a[href]` for `<a href="https://example.com/users/john.doe" rel="john.doe"> John Doe </a>` as the mention tag.<br><br>If HTML tag selector didn't work, use HTML_REGEX as fieldDataType and return regex to search usermention.<br>Example: return `"mentionUser\s(\w+)"` for searching john_doe and jane_doe from data such as:<br>`mentionUser john_doe is working with mentionUser jane_doe`<br><br>*It's important that regex has only 1 group and that 1 group captures the user data corresponding to the user field's value as per userMentionDataType.* |
|  | mentionTemplate | True | String | Usermention template that will be used to create a usermention tag for the target system. As template variables, following variables can be used:<br><br>${id} : id of the user.<br>${username} : Username of the user.<br>${email} : Email of the user.<br>${displayName} : Display name of the user.<br><br>If null value is expected and default template variable value needs to be provided, ':-' operator can be used.<br><br>Examples:<br>${displayName:-Display Name}: This will replace this template variable with 'Display Name' if value of displayName is not present.<br>${displayName:-}: This will replace this template variable with '' (empty string) if value of displayName is not present.<br><br>As per various data types, mention templates can vary.<br><br>**Examples:**<br>HTML: `<a href="https://example.com/users/${username}" rel="${username}"> ${displayName} </a>`<br>Resolved: `<a href="https://example.com/users/john.doe" rel="john.doe"> John Doe </a>`<br><br>Wiki: `[~accountId:${username}]`<br>Resolved: `[~accountId:john.doe]`<br><br>Text: `${username} <${email}>`<br>Resolved: `john.doe <john.doe@email.com>` |
|  | userDataRegex | False |  | Regex to extract user data out of HTML tag attribute or inner text of tag.<br><br>This field is only needed when #fieldDataType is HTML and user data has to be extracted from HTML tag attribute or inner text.<br>This field can be null when #fieldDataType is not HTML.<br>It can also be null if one of the user field values is exact HTML attribute value or inner text.<br>This regex must have only 1 group which corresponds to the value of the user field as per #userMentionDataType.<br><br>**Examples:**<br>1. `<a href="https://example.com/users?name=john.doe"> John Doe </a>`<br>To extract the username from `href`, set `userDataRegex` to `".*[?&]name=([a-z.]+)"`.<br><br>2. `<a href="https://example.com/users/101"> @john.doe </a>`<br>To extract the username from inner text, set `userDataRegex` to `"@([a-z.]+)"`.<br><br>3. `<a href="https://example.com/users/101" rel="john.doe"> John Doe </a>`<br>Here, `rel` attribute's exact value is username. So, no need to provide regex. The userDataRegex can be null.<br><br>4. `<a href="https://example.com/users/101"> john.doe </a>`<br>Here, the inner text's exact value is username. So, no need to provide regex. Hence, the userDataRegex can be null. |
|  | userDataAttributeName | False | String | Name of the HTML tag attribute which contains user field value as per #userMentionDataType.<br>This field is only needed when #fieldDataType is HTML.<br>This field can be null when #fieldDataType is not HTML.<br>If for HTML data type, userDataAttributeName is null, HTML tag's inner text will be considered to have user field value. |




| Parent Parameter | Name | Required | Type | Description |
|------------------|------|-----------|------|-------------|
| **entityMention** |  | False |  |  |
|  | **mentionDetails** | True |  |  |
|  | **fieldDataType** | True | Enum | Type of entity mention detection system for field or comment. Each type correlates with a data type of field or comment. <br><br>For example: **HTML**, **WIKI**, **MARKDOWN**, **TEXT**, **HTML_REGEX** (If mention containing field is HTML type and all mentions are not detected with HTML selector, instead provide **HTML_REGEX** enum and a regex in `selectorOrRegex` that can detect the mention). |
|  | **selectorOrRegex** | True | List `<String>` | If the entity mention detection system used is of type **WIKI** or **TEXT**, return regex for which entity mention needs to be checked.<br><br>The regex must have only one group, corresponding to the entity mention’s value as per `fieldDataType`. <br>**Example:** `\[~([a-z0-9.]+)\]` would search for all `~entitymention` tags.<br><br>If the detection system is **HTML**, return the selector for which entity mention needs to be checked.<br>**Example:** `doc.select("a[href]")` will search for all anchor tags having an `href` attribute.<br><br>If the HTML tag selector didn’t work, use **HTML_REGEX** as `fieldDataType` and return regex to search entity mention.<br>**Example:** return `"workitem\s(\d+)"` for searching entity with id `123` and `456` from data such as `workitem 123 depends on workitem 456`.<br><br> *It's important that the regex has only one group, and that group captures the entity id of the mention.* |
|  | **mentionTemplate** | True | String | The `entityMention` template that will be used to create an entity mention tag for the target system.<br><br>As template variables, the following variables can be used:<br>${entityId} – id of the entity<br>${entityDisplayId} – display id of the entity<br>${entityProject} – project name of the mention scope<br>${entityProjectId} – project id of the mention scope<br>${entityType} – entity type of the mention scope<br><br>As per various data types, mention templates can vary.<br><br>**Examples:**<br>HTML: `<a href="https://example.com/${projectId}/_entity/edit/${entityId}" data-vss-mention="version:1.0">#${entityDisplayId}</a>`<br>Resolved: `<a href="https://example.com/Prj-101/_entity/edit/101" data-vss-mention="version:1.0">#Bug-101</a>`<br><br>Wiki: `https://example.com/browse/${entityId}\|smart-link` <br>Resolved: `https://example.com/browse/DCPA3-7 \|smart-link` <br><br>Text: `${entityId} <${entityDisplayId}>`<br>Resolved: `101 <Bug-101>` |
|  | **entityIdAttribute** | True |  | Parameters to specify the entity id to be read from text, regex, or HTML attribute name.<br>For HTML tag element, attribute name is required.<br>For Wiki, regex is required. |
|  | **dataAttributeName** | False | String | This field is only required when `fieldDataType` is **HTML**. It can be null otherwise.<br>This field contains the name of the HTML tag attribute which contains the entity field value.<br>If `fieldDataType` is **HTML** and this field is null, the HTML tag’s inner text will be considered to have the entity field value. |
|  | **dataRegEx** | False | String | This field is used to extract entity information such as entity id, entity type, project id, or project name from the text.<br><br>In case of HTML, this extracts data from an HTML tag attribute or inner text, based on the selector in `selectorOrRegex`.<br>In case of WIKI, this extracts data from matched text using the selector provided.<br><br>This field is only required when `fieldDataType` is HTML and Id data has to be extracted from HTML tag attribute or inner text. It can be null otherwise or when the id value directly matches HTML content. |
|  | **entityTypeAttribute** | False |  | If end system provide entity type corresponds to mentioned entity along with the mentioned entity id then it is recommended to provide the meta information to extract or read entity type information from mentioned tag.<br><br>If this parameter is not given then OpsHub will search mentioned entity using mentioned id parameter without the entity type and it would be considered that entity id is sufficient, otherwise OpsHub will search mentioned entity using entity type along with id. Examples:<br><br>**Examples:**<br>HTML: `<a class="cke-link-popover-active" href="https://www.example.com/#/23468038167ud/defects?detail=/defect/669232438245">Entity101</a>`<br>WIKI: `[DCPA3-7\|https://www.example.com/browse/DEFECT/DCPA3-7] [displayText\|url]`<br>For above entity mentioned tag the text 'defect' in html example and 'DEFECT' in wiki example is entity type.<br><br>WIKI: `[DCPA3-7\|https://opshub.atlassian.net/browse/DCPA3-7][displayText\|url]`, For above tag: entity type does not exist as part of the mentioned tag, so end system do not require to provide this parameter entityTypeAttribute. |
|  | **entityProjectAttribute** | False |  | If end system provide project corresponds to mentioned entity along with the mentioned entity id then it is recommended to provide the meta information to extract or read project information from mentioned tag. <br><br>If this parameter is not given then OpsHub will search mentioned entity using mentioned id parameter without the project and it would be considered that entity id is sufficient, otherwise OpsHub will search mentioned entity using project along with entity id.<br><br>**Examples:**<br>HTML: `<a href="https://www.example.com/40723eb0-0857-4970-a4f4-8cf657085847/_entity/edit/101" data-vss-mention="version:1.0">#Bug-101</a>`<br>WIKI: [DCPA3-7\|https://www.example.com/browse/TESTP/DCPA3-7][displayText\|url]<br>For above entity mentioned tag the text '40723eb0-0857-4970-a4f4-8cf657085847' in HTML example and 'TESTP' in WIKI example is project of mentioned entity.<br><br>WIKI: [DCPA3-7\|https://www.example.com/browse/DCPA3-7][displayText\|url], For above tag: project does not exist as part of the mentioned tag, so end system do not require to provide this parameter entityProjectAttribute. |
|  | **entityURLDetails** | False |  | This field supports reverse sync for source URL/target URL option.<br><br>Provide the matcher or selector for the matching entity URL of the end system.<br>If the system supports HTML mentions, provide a JSoup matcher for URLs within `href`.<br>If the system supports Wiki, provide a regex for URLs.<br>If both HTML and Wiki mentions are supported, provide a list of entity URL details in mention metadata. |
|  | **entityWebURLMatcher** | False | String | This field contains regex or selector to match entity web url |
|  | **entityIdDataSelector** | False | String | This field contains regex to read the entity id from web url |
















